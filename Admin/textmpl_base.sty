\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel} % last in order lang becomes main
\usepackage[a4paper, total={7in, 10in}]{geometry}

\usepackage{indentfirst} % indent first paragraph of letters
\usepackage[obeyspaces]{url} % \url, \path

% other packages:
\usepackage{xspace} % smart spaces after macro

\usepackage{textcomp} % \textrightarror{} arrow in text mode

% used for user-defined colors
% \usepackage{color}
\usepackage{xcolor}
\definecolor{fmtlightgray}{rgb}{0.97,0.97,0.97}

% used for code-formatting
\usepackage{listings}
\usepackage{caption}

\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\hspace*{-0.4pt}\colorbox{gray}{\parbox{\dimexpr\textwidth-2\fboxsep+.8pt\relax}{#3}}}
% \DeclareCaptionFormat{listing}{\colorbox{gray}{\parbox{\textwidth}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}

\lstdefinestyle{style_bash}{
    language=bash,  % default language of the code
    basicstyle=\footnotesize\ttfamily,
    keywordstyle=\color{blue}\footnotesize\ttfamily,
    commentstyle=\color{gray}\footnotesize\ttfamily,
    backgroundcolor=\color{fmtlightgray},
    breaklines=true, % sets automatic line breaking
    showstringspaces=false, % underline spaces in strings
    alsoletter={-.}, % use hyphen, dot as letter in keywords
    morekeywords={chsh, dd, df, echo, git, fdisk, hwclock, ln, lsblk, mkdir, mount, netctl, pacman, pacstrap, passwd, ping, reflector, rm, shutdown, sudo, swapon, systemctl, umount, useradd, vim, wifi-menu, xinput},
    tabsize=4
    % belowskip=0.5em
}

\lstdefinestyle{style_file}{
    language=bash,  % default language of the code
    captionpos=t,
    frame=single, % frame=lrbt
    framesep=0pt,
    rulesep=0pt,
    xleftmargin=8pt,
    xrightmargin=5pt,
    framexleftmargin=8pt,
    framexrightmargin=5pt,
    framextopmargin=5pt,
    framexbottommargin=5pt,
    belowcaptionskip=5pt,
    % belowskip=0.0em,
    basicstyle=\footnotesize\ttfamily,
    keywordstyle=\color{blue}\footnotesize\ttfamily,
    commentstyle=\color{gray}\footnotesize\ttfamily,
    backgroundcolor=\color{fmtlightgray},
    breaklines=true, % sets automatic line breaking
    showstringspaces=false, % underline spaces in strings
    tabsize=4
}

\lstset{
    style=style_bash
}

\usepackage{enumitem}
\setlist{noitemsep}
